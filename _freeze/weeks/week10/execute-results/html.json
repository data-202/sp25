{
  "hash": "13acda2aa9c18800aa423bee47b310bf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"DATA 202 - Week 10\"\nsubtitle: \"Notes on causal theories\"\nauthor: \"Nathan Alexander, PhD\"\ninstitute: \"Center for Applied Data Science and Analytics\"\nformat: \n  html: default\n  revealjs:\n    output-file: week10-slides.html\n    height: 900\n    width: 1600\n    smaller: false\n    scrollable: true\n    slide-number: c/t #< collapsted/total\n    logo: \"img/howard-logo.jpg\"\n    footer: \"[Course Data GitHub](https://github.com/data-202)\"\n    toc: false\n    echo: true\n    incremental: false\n---\n\n\n\n\n\n\n## Part I: Context\n\n![Illustration by Yuko Shimizu from [cigionline.org](https://www.cigionline.org/articles/as-geopolitical-blocs-vie-for-primacy-in-space-the-history-of-colonization-looms-large/){target=\"_blank\"}.](img/wk8-a-3.jpg)\n\nLast week launched part 3 of our course: data and policy, as in public policies.\n\nOur goals this week will be to consider variations of justice for your particular area(s) of interest and study, and to cite references that allow us to understand the meaning of social justice in your specific intellectual domains.\n\n---\n\n### History, cause, and effect\n\nTheory is often understood through an investigation of both the literature and the historical contexts surrounding a given issue. Take, for example, the legacies of colonization. As data and scientific developments expand into new fields, new questions arise as to what we can associate and how we understand these associations. For example, how does one theoretically relate a series of events from 150 years ago to a present set of conditions? What are the possibilities? What are the limitations? What are the cautionary tales?\n\nStatistics was situated as a vehicle to understand and measure observations. As it becomes an ever popular vehicle to inform social justice discourses, the many real-world associations identified in society bring to mind the well-known and readily available cautionary tale:\n\n> Correlation does not imply causation.\n\nThis popular statement relates to the ability (or inability) to deduce cause-and-effect relationships.\n\n------------------------------------------------------------------------\n\n### Causation\n\n::: {.callout-note apperance=\"simple\"}\n**Causality** is a fundamental concept in scientific inquiry and statistical analysis. It refers to the relationship between cause and effect, where one event (the cause) is understood to be responsible for another event (the effect). In statistics, causal inference aims to identify and quantify these cause-effect relationships.\n:::\n\nCausality can be defined as a relationship between two events where:\n\n- The cause precedes the effect in time.\n\n- There is a consistent association between the cause and effect.\n\n- Alternative explanations for the association have been ruled out.\n\n---\n\n### Correlation\n\nIn the traditional setting, correlation is framed as a statistical measure that relays the size and direction of the relationship between two or more variables. From a more critical framework, however, the idea of associations between variables and the attribution of relationships between variables must be both examined and interrogated.\n\nAssociations should be understood and initiated from the root of a theoretical framework.\n\nIf two variables are related, in a statistical context, we assume that their values *change* in some ordered fashion. These measures are often represented on an axis depicting the strength of the association.\n\n![Image from statlect.com](img/wk8-a-2.png)\n\n---\n\n\n\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](week10_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\nAs one value of a first variable increases the other variable's values may also increase (positive relationship). Alternatively, as the value of one variable increases the other variable's values may decrease (negative relationship). Key questions to consider focus on how context and other factors shape any seeming bivariate relationship.\n\n------------------------------------------------------------------------\n\n#### Spurious correlation\n\nAt the intersection of mathematics and statistics is the concept of the [*spurious correlation*](https://www.jstor.org/stable/42001453){target=\"_blank\"} (Ward, 2013). A few examples:\n\n-   [Divorce rate has been found to correlate with margarine use](https://blogs.ams.org/blogonmathblogs/2017/04/10/divorce-and-margarine/){target=\"_blank\"}.\n\n-   Ice cream sales have been correlated with:\n\n    -   Swimming deaths\n\n    -   Shark attacks\n\n    -   Crime rates\n\n-   The use of the popular site [Facebook has been correlated with diminished well-being](https://academic.oup.com/jcmc/article/21/4/265/4161784){target=\"_blank\"}.\n\nThese association help us see the need to investigate relationships further. What are possible unexplained relationships in these associations? We identify potential spurious variables when developing theoretical ideas about associations.\n\n------------------------------------------------------------------------\n\n### Causation\n\nCausality ([See Sloman and Acnado (2015)](https://www.annualreviews.org/doi/full/10.1146/annurev-psych-010814-015135)) is a representation and principle of cause and effect. There are many different viewpoints of causation across disciplines and fields of study. Terminology matters in how one frames cause and effect.\n\nThere are four possible relationships between two variables:\n\n-   X causes Y\n\n-   Y causes X\n\n-   X and Y are both caused by Z\n\n-   X is not related to Y\n\nWhile these relationships may exist in some combination, it is important to frame their differences.\n\n------------------------------------------------------------------------\n\n### Associating X and Y\n\nOur initial framing might directly link the variables `X` and `Y`.\n\nFirst, we have the association X causes Y.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[X] --> B[Y]\n```\n\n\n\n\n\n\nNext, we have the association Y causes X.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[Y] --> B[X]\n```\n\n\n\n\n\n\nFinally, we have the association X causes Y and Y causes X.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[X] <--> B[Y]\n  B --> A\n```\n\n\n\n\n\n\n------------------------------------------------------------------------\n\n### Framing spurious relationships\n\nHowever, after further reading, we may find that we need to integrate a third factor Z.\n\nIn this context, a third factor (the \"third-cause fallacy\") represents a spurious relationship.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[X]\n  B[Y]\n  C[Z]\n```\n\n\n\n\n\n\nSpurious relationships denote an observed or hypothesized association.\n\nThere are important differences in how we depict and deal with third factor associations.\n\n------------------------------------------------------------------------\n\n### Confounding variables\n\nConfounding is a causal concept that focuses on spurious or distorted associations.\n\nBelow, Z is considered a [confounding variable](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4017459/){target=\"_blank\"}.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph TD\n  A[Z] --> B[X]\n  A --> C[Y]\n```\n\n\n\n\n\n\n-   Z is related to both the independent, $X$, and dependent, $Y$, variables in the causal sense.\n\n-   Your analysis should examine if the relationship between $X$ and $Y$ holds.\n\n-   These interactions are described as *spurious associations*.\n\n------------------------------------------------------------------------\n\n### Mediating variables\n\nA [mediating variable](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4165346/){target=\"_blank\"} explains the process by which two variables are related.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[X] --> B[Z]\n  B --> C[Y]\n```\n\n\n\n\n\n\n-   Z provides the *mechanism* to relate the independent, $X$, and dependent, $Y$, variables.\n\n------------------------------------------------------------------------\n\n### Moderating variables\n\nA [moderating variable](https://www.researchgate.net/profile/Hugh-Arnold/publication/240438039_Moderator_Variables_A_Clarification_of_Conceptual_Analytic_and_Psychometric_Issues/links/5ee391fb92851ce9e7dce2ae/Moderator-Variables-A-Clarification-of-Conceptual-Analytic-and-Psychometric-Issues.pdf){target=\"_blank\"} explains the strength by which two variables are related.\n\n\n\n\n\n\n```{mermaid}\n%%| echo: false\ngraph LR\n  A[X] --> B[Z]\n  A --> C[Y]\n  B --> C\n```\n\n\n\n\n\n\n-   Z explains the *strength of association* between the independent, $X$, and dependent, $Y$, variables.\n\nLet us look at a concrete example.\n\n------------------------------------------------------------------------\n\n## Part II: Content\n\nThe methods used to collect sample data is extremely important.\n\nIf sample data are not collected in an appropriately, any resulting statistical analyses will be futile. As a result, planning a study by identifying research questions, the population and sample of interest, and considering the types of methods that will be used to analyze data that is collected are all essential parts in the statistical data analysis process.\n\n------------------------------------------------------------------------\n\n#### More on sampling methods\n\nFirst, let's revisit and describe the different sampling methods:\n\nThere are two broad categories of selecting members of a population to generate sample data: probability sampling and non-probability sampling.\n\nWithin these two broad categories are other methods based on the needs of the study. Each of these methods is used to support statistical data analysis with some methods providing stronger evidence than others.\n\n::: callout-DEFINITIONS\n\nProbability sampling\n\n:   involves the random selection of subjects in such a way that every member of a sample has the sample probability of being selected.\n\nNon-probability sampling\n\n:   involves the use of criteria to select data that is not based on an equal likelihood of selection.\n:::\n\n------------------------------------------------------------------------\n\n##### Probability sampling methods\n\n-   **Simple random sample** of $n$ subjects ensures that every possible sample of the same size $n$ has the same chance or likelihood of being chosen.\n\n-   **Systematic sample** of $n$ subjects involves selecting every $k$th subject on some regular interval.\n\n-   **Stratified sample** involves dividing the population up into strata (groups) with the same characteristics and then randomly sampling within those strata.\n\n-   **Cluster sample** involves partitioning the population into clusters (groups), randomly selecting some clusters, and then selecting all members of the selected clusters.\n\n------------------------------------------------------------------------\n\n##### Non-prbability sampling methods\n\n-   **Convenience sample** is data gathered from the most accessible or convenient source. Although this is easy and efficient, the data cannot produce generalizable results.\n\n-   **Purposive sample** is data gathered based on the purposes of the research or the specific research question. This strategy includes clear criteria and rationale for inclusion.\n\n-   **Snowball sample** is data gathered via recruitment by the other participants of a study. The number of subjects included \"snowballs\" as more contacts are generated.\n\n------------------------------------------------------------------------\n\n###### Multistage sampling\n\nIn larger studies, sometimes multistage sampling procedures are used to generate data. In this design, different samples are selected in different stages, and each stage might use a different sampling method. The end result may represent a complicated sampling design but it is often simpler and faster than some designs, such as a simple random sample.\n\n------------------------------------------------------------------------\n\n**Missing Data**\n\nData can be missing from a set, and the total number of elements can differ between two or more sets.\n\nThe differences in the number of elements can be due to a host of reasons, but often it is missing data. A data value can be *missing at random* or *not missing at random*. The amount of information missing from a data set can have a minimal impact or a major impact on a statistical analysis.\n\n::: {.callout-note apperance=\"simple\"}\n**Note -- Missing data**\n\nA data value is *missing completely at random* if the likelihood of it being missing is independent of its value or any other values in the data set is just as likely to be missing.\n\nA data value is *not missing at random* if the missing value is related to the reason it is missing.\n:::\n\n------------------------------------------------------------------------\n\n## Part III: Code\n\n### Crime statistics\n\nData from 1973 on violent crime rates by US State in the `USArrests` data set.\n\nValues are per 100,000 residents for assault, murder, and rape.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(USArrests)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Murder Assault UrbanPop Rape\nAlabama      13.2     236       58 21.2\nAlaska       10.0     263       48 44.5\nArizona       8.1     294       80 31.0\nArkansas      8.8     190       50 19.5\nCalifornia    9.0     276       91 40.6\nColorado      7.9     204       78 38.7\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(USArrests)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n              Murder Assault UrbanPop Rape\nVermont          2.2      48       32 11.2\nVirginia         8.5     156       63 20.7\nWashington       4.0     145       73 26.2\nWest Virginia    5.7      81       39  9.3\nWisconsin        2.6      53       66 10.8\nWyoming          6.8     161       60 15.6\n```\n\n\n:::\n:::\n\n\n\n\n\n\n---\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(USArrests$UrbanPop, USArrests$Murder)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.06957262\n```\n\n\n:::\n\n```{.r .cell-code}\nplot(USArrests$UrbanPop, USArrests$Murder,\n     xlab = \"Percent living in urban areas\",\n     ylab = \"Murders per 100,000 residents\")\n```\n\n::: {.cell-output-display}\n![](week10_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nWhat are some initial takeaways from this plot?\n\nWithout a guiding theory, where might our analyses take us?\n\n---\n\n### Education data\n\nThis data is borrowed from the folks at UCLA's Statistical Methods and Data Analytics office.\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrequire(foreign)\nrequire(ggplot2)\nrequire(MASS)\n\neduc <- read.dta(\"https://stats.idre.ucla.edu/stat/stata/dae/nb_data.dta\")\n```\n:::\n\n\n\n\n\n\n---\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(educ)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    id gender math daysabs prog\n1 1001   male   63       4    2\n2 1002   male   27       4    2\n3 1003 female   20       2    2\n4 1004 female   16       3    2\n5 1005 female    2       3    2\n6 1006 female   71      13    2\n```\n\n\n:::\n\n```{.r .cell-code}\ntail(educ)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      id gender math daysabs prog\n309 2152 female   46       1    3\n310 2153   male   26       1    2\n311 2154 female   79       3    3\n312 2155 female   59       0    2\n313 2156 female   90       0    3\n314 2157 female   77       2    3\n```\n\n\n:::\n:::\n\n\n\n\n\n\n---\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\neduc <- within(educ, {\n  prog <- factor(prog, levels = 1:3, labels = c(\"General\", \"Academic\", \"Vocational\"))\n  id <- factor(id)\n})\n\nsummary(educ)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       id         gender         math          daysabs               prog    \n 1001   :  1   female:160   Min.   : 1.00   Min.   : 0.000   General   : 40  \n 1002   :  1   male  :154   1st Qu.:28.00   1st Qu.: 1.000   Academic  :167  \n 1003   :  1                Median :48.00   Median : 4.000   Vocational:107  \n 1004   :  1                Mean   :48.27   Mean   : 5.955                   \n 1005   :  1                3rd Qu.:70.00   3rd Qu.: 8.000                   \n 1006   :  1                Max.   :99.00   Max.   :35.000                   \n (Other):308                                                                 \n```\n\n\n:::\n:::\n\n\n\n\n\n\n---\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(educ, aes(daysabs, fill = prog)) + geom_histogram(binwidth = 1) + facet_grid(prog ~ \n                                                                                     ., margins = TRUE, scales = \"free\")\n```\n\n::: {.cell-output-display}\n![](week10_files/figure-html/unnamed-chunk-15-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\nWhat are some initial takeaways from this plot?\n\nWithout a guiding theory, where might our analyses take us?\n\n---\n\n### **Next up**: Week 11\n",
    "supporting": [
      "week10_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}